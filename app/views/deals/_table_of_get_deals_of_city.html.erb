<% @deals.each do |deal| %>

  <% unless @filter.nil? %>
    <% if valid_filtered_deal?(type_checked_deal(deal), @filter) %>

      <p>id of the deal: <%= link_to type_checked_deal(deal)["id"], deals_show_path(:data_of_deal => type_checked_deal(deal)["id"], :location => @city) %></p>
      <p>short_title of the deal: <%= type_checked_deal(deal)["short_title"] %></p>
      <p>price of the deal: <%= type_checked_deal(deal)["price"] %></p>
      <p>address_information of the deal: <%= type_checked_deal(deal)["address_information"] %></p>
      </br></br>

    <% end %>
  <% else %>

    <p>id of the deal: <%= link_to type_checked_deal(deal)["id"], deals_show_path(:data_of_deal => type_checked_deal(deal)["id"], :location => @city) %></p>
    <p>short_title of the deal: <%= type_checked_deal(deal)["short_title"] %></p>
    <p>price of the deal: <%= type_checked_deal(deal)["price"] %></p>
    <p>address_information of the deal: <%= type_checked_deal(deal)["address_information"] %></p>
    </br></br>

  <% end %>
<% end %>